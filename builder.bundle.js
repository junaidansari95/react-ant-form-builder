!function(e){function t(t){for(var r,l,o=t[0],i=t[1],c=t[2],f=0,j=[];f<o.length;f++)l=o[f],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&j.push(a[l][0]),a[l]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);j.length;)j.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={2:0},s=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=i;s.push([221,0,1]),n()}({221:function(e,t,n){"use strict";n.r(t);n(268);var r=n(230),a=(n(194),n(31)),s=(n(53),n(21)),l=(n(54),n(14)),o=(n(58),n(18)),i=(n(59),n(27)),c=(n(290),n(229)),u=n(0),f=n.n(u),j=n(222),m=n.n(j),p=n(39),d=(n(235),n(270),n(231)),y=(n(195),n(17)),b=(n(271),n(227)),h=(n(272),n(11)),v=n(223),g=n(32),O=n(33);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var P=Object(p.c)(function(){return f.a.createElement(l.a,{className:"drag-handle",type:"flex",align:"middle",justify:"center"},f.a.createElement("span",null,":::"))}),z=function(e){var t=!1;return e&&e.length&&(t=Object(v.find)(e,function(e){return!0===e.required||!1===e.required})),t},S=Object(p.b)(function(e){var t=e.value,n=t.index,r=t.items,a=x(t,["index","items"]),c=e.onDelete,j=e.onChange,m=w(Object(u.useState)(""),2),p=m[0],v=m[1];Object(u.useEffect)(function(){a.type&&v(a.type)},[a]);var S=function(e,t){var s=r;s[n]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a,k({},e,t)),j&&j(s)};return f.a.createElement(l.a,{type:"flex",style:{margin:10}},f.a.createElement(d.a,{title:f.a.createElement(P,null),style:{width:"100%"},actions:[f.a.createElement(h.a,{type:"delete",key:"delete",onClick:function(){c&&c(a)}}),f.a.createElement(b.a,{checkedChildren:"Required",unCheckedChildren:"Not required",checked:z(a.rules).required,onChange:function(e){if(a&&a.rules&&a.rules.length){var t=a.rules.indexOf(z(a.rules));if(t>-1){var n=a.rules;n[t].required=e,S("schema",n)}}}}),f.a.createElement(h.a,{type:"ellipsis",key:"ellipsis"})]},f.a.createElement(l.a,{gutter:16},f.a.createElement(s.a,{span:20},f.a.createElement(o.a.Item,{required:!0,label:"Question ".concat(p)},"textarea"===p?f.a.createElement(i.a.TextArea,{placeholder:"Question",value:a.label||"",autosize:{minRows:2,maxRows:6},onChange:function(e){S("label",e.target.value)}}):f.a.createElement(i.a,{placeholder:"Question",value:a.label||"",onChange:function(e){S("label",e.target.value)}}))),f.a.createElement(s.a,{span:4},f.a.createElement(l.a,null,f.a.createElement(o.a.Item,{required:!0,label:"Type"},f.a.createElement(y.a,{value:a.type||"",style:{width:"100%"},onSelect:function(e){v(e),S("type",e)}},f.a.createElement(y.a.Option,{key:"input",value:"input"},f.a.createElement(g.a,{icon:O.f}),f.a.createElement("span",{style:{marginLeft:10}},"Short answer")),f.a.createElement(y.a.Option,{key:"textarea",value:"textarea"},f.a.createElement(g.a,{icon:O.a}),f.a.createElement("span",{style:{marginLeft:10}},"Paragraph")),f.a.createElement(y.a.Option,{key:"radio",value:"radio"},f.a.createElement(g.a,{icon:O.e}),f.a.createElement("span",{style:{marginLeft:10}},"Multiple choice")),f.a.createElement(y.a.Option,{key:"checkbox",value:"checkbox"},f.a.createElement(g.a,{icon:O.c}),f.a.createElement("span",{style:{marginLeft:10}},"Checkboxes")),f.a.createElement(y.a.Option,{key:"select",value:"select"},f.a.createElement(g.a,{icon:O.d}),f.a.createElement("span",{style:{marginLeft:10}},"Dropdown")),f.a.createElement(y.a.Option,{key:"confirm",value:"confirm"},f.a.createElement(g.a,{icon:O.b}),f.a.createElement("span",{style:{marginLeft:10}},"Confirm")))))))))}),D=f.a.memo(S);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,s=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach(function(t){I(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){var t=e.index,n=e.value,r=e.onDelete,a=e.onChange;return f.a.createElement(D,{onDelete:r,onChange:a,index:t,value:n})},_=Object(p.a)(function(e){var t=e.items,n=e.header,r=e.onDelete,a=e.onChange;return f.a.createElement(c.a,{header:n,size:"large",dataSource:t,renderItem:function(e,n){return f.a.createElement(A,{onChange:a,onDelete:r,index:n,value:T({},e,{index:n,items:t})})}})});t.default=o.a.create("form_builder")(function(e){var t=e.formStructure,n=void 0===t?{}:t,c=e.form,j=c.getFieldDecorator,p=c.validateFields,d=C(Object(u.useState)({name:"",description:"",schema:[]}),2),y=d[0],b=d[1];Object(u.useEffect)(function(){n&&b(n)},[n]);return j("id",{initialValue:y.id}),j("formType",{initialValue:y.type}),f.a.createElement(o.a,{colon:!1,onSubmit:function(e){e.preventDefault(),p(function(e,t){e||console.log(t)})},noValidate:!0},f.a.createElement(o.a.Item,{label:"Name"},j("name",{initialValue:y.name,rules:[{required:!0,message:"Form name is required",whitespace:!0}]})(f.a.createElement(i.a,{placeholder:"Add form name"}))),f.a.createElement(o.a.Item,{label:"Description"},j("description",{initialValue:y.description,rules:[{required:!0,message:"Form description is required",whitespace:!0}]})(f.a.createElement(i.a.TextArea,{placeholder:"Add form description"}))),f.a.createElement(l.a,null,f.a.createElement(s.a,{span:23},f.a.createElement(l.a,{style:{background:"#ECECEC"}},f.a.createElement(_,{items:y.schema,onChange:function(e){b(T({},y,{schema:e}))},onDelete:function(e){if(console.log(e),e){var t=y.schema.filter(function(t){return t.field!==e.field});b(T({},y,{schema:t}))}},onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,r=y.schema;r=m()(r,t,n),b(T({},y,{schema:r}))}}))),f.a.createElement(s.a,null,f.a.createElement(l.a,{type:"flex",justify:"center"},f.a.createElement(r.a,{offsetTop:400},f.a.createElement(a.a,{icon:"plus"}))))),f.a.createElement("div",{style:{margin:"30 0"}},f.a.createElement(a.a,{htmlType:"submit"},"Save")))})},235:function(e,t,n){var r=n(236);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(24)(r,a);r.locals&&(e.exports=r.locals)},236:function(e,t,n){(e.exports=n(23)(!1)).push([e.i,".drag-handle {\n  color: #999;\n  cursor: move;\n}\n\n/* Ant overrides */\n.ant-form-item-label {\n  white-space: normal;\n  line-height: 1.5;\n  margin-bottom: 5;\n}\n",""])},238:function(e,t,n){var r={"./af":60,"./af.js":60,"./ar":61,"./ar-dz":62,"./ar-dz.js":62,"./ar-kw":63,"./ar-kw.js":63,"./ar-ly":64,"./ar-ly.js":64,"./ar-ma":65,"./ar-ma.js":65,"./ar-sa":66,"./ar-sa.js":66,"./ar-tn":67,"./ar-tn.js":67,"./ar.js":61,"./az":68,"./az.js":68,"./be":69,"./be.js":69,"./bg":70,"./bg.js":70,"./bm":71,"./bm.js":71,"./bn":72,"./bn.js":72,"./bo":73,"./bo.js":73,"./br":74,"./br.js":74,"./bs":75,"./bs.js":75,"./ca":76,"./ca.js":76,"./cs":77,"./cs.js":77,"./cv":78,"./cv.js":78,"./cy":79,"./cy.js":79,"./da":80,"./da.js":80,"./de":81,"./de-at":82,"./de-at.js":82,"./de-ch":83,"./de-ch.js":83,"./de.js":81,"./dv":84,"./dv.js":84,"./el":85,"./el.js":85,"./en-SG":86,"./en-SG.js":86,"./en-au":87,"./en-au.js":87,"./en-ca":88,"./en-ca.js":88,"./en-gb":89,"./en-gb.js":89,"./en-ie":90,"./en-ie.js":90,"./en-il":91,"./en-il.js":91,"./en-nz":92,"./en-nz.js":92,"./eo":93,"./eo.js":93,"./es":94,"./es-do":95,"./es-do.js":95,"./es-us":96,"./es-us.js":96,"./es.js":94,"./et":97,"./et.js":97,"./eu":98,"./eu.js":98,"./fa":99,"./fa.js":99,"./fi":100,"./fi.js":100,"./fo":101,"./fo.js":101,"./fr":102,"./fr-ca":103,"./fr-ca.js":103,"./fr-ch":104,"./fr-ch.js":104,"./fr.js":102,"./fy":105,"./fy.js":105,"./ga":106,"./ga.js":106,"./gd":107,"./gd.js":107,"./gl":108,"./gl.js":108,"./gom-latn":109,"./gom-latn.js":109,"./gu":110,"./gu.js":110,"./he":111,"./he.js":111,"./hi":112,"./hi.js":112,"./hr":113,"./hr.js":113,"./hu":114,"./hu.js":114,"./hy-am":115,"./hy-am.js":115,"./id":116,"./id.js":116,"./is":117,"./is.js":117,"./it":118,"./it-ch":119,"./it-ch.js":119,"./it.js":118,"./ja":120,"./ja.js":120,"./jv":121,"./jv.js":121,"./ka":122,"./ka.js":122,"./kk":123,"./kk.js":123,"./km":124,"./km.js":124,"./kn":125,"./kn.js":125,"./ko":126,"./ko.js":126,"./ku":127,"./ku.js":127,"./ky":128,"./ky.js":128,"./lb":129,"./lb.js":129,"./lo":130,"./lo.js":130,"./lt":131,"./lt.js":131,"./lv":132,"./lv.js":132,"./me":133,"./me.js":133,"./mi":134,"./mi.js":134,"./mk":135,"./mk.js":135,"./ml":136,"./ml.js":136,"./mn":137,"./mn.js":137,"./mr":138,"./mr.js":138,"./ms":139,"./ms-my":140,"./ms-my.js":140,"./ms.js":139,"./mt":141,"./mt.js":141,"./my":142,"./my.js":142,"./nb":143,"./nb.js":143,"./ne":144,"./ne.js":144,"./nl":145,"./nl-be":146,"./nl-be.js":146,"./nl.js":145,"./nn":147,"./nn.js":147,"./pa-in":148,"./pa-in.js":148,"./pl":149,"./pl.js":149,"./pt":150,"./pt-br":151,"./pt-br.js":151,"./pt.js":150,"./ro":152,"./ro.js":152,"./ru":153,"./ru.js":153,"./sd":154,"./sd.js":154,"./se":155,"./se.js":155,"./si":156,"./si.js":156,"./sk":157,"./sk.js":157,"./sl":158,"./sl.js":158,"./sq":159,"./sq.js":159,"./sr":160,"./sr-cyrl":161,"./sr-cyrl.js":161,"./sr.js":160,"./ss":162,"./ss.js":162,"./sv":163,"./sv.js":163,"./sw":164,"./sw.js":164,"./ta":165,"./ta.js":165,"./te":166,"./te.js":166,"./tet":167,"./tet.js":167,"./tg":168,"./tg.js":168,"./th":169,"./th.js":169,"./tl-ph":170,"./tl-ph.js":170,"./tlh":171,"./tlh.js":171,"./tr":172,"./tr.js":172,"./tzl":173,"./tzl.js":173,"./tzm":174,"./tzm-latn":175,"./tzm-latn.js":175,"./tzm.js":174,"./ug-cn":176,"./ug-cn.js":176,"./uk":177,"./uk.js":177,"./ur":178,"./ur.js":178,"./uz":179,"./uz-latn":180,"./uz-latn.js":180,"./uz.js":179,"./vi":181,"./vi.js":181,"./x-pseudo":182,"./x-pseudo.js":182,"./yo":183,"./yo.js":183,"./zh-cn":184,"./zh-cn.js":184,"./zh-hk":185,"./zh-hk.js":185,"./zh-tw":186,"./zh-tw.js":186};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=238}});